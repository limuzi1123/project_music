<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    var i=0;//现在正在显示第几张图片,从0开始
    var LIWIDTH=1000;//每个li的固定宽度
    var DURATION=500;//每次轮播动画持续的时间  
    var LICOUNT=3;//li的总个数
    //要移动的ul
    var ulImgs=document.getElementById("ul-imgs");
    //包含小圆点列表的ul
    var ulIdxs=document.getElementById("ul-idexs");
    //小圆点的元素列表
    var lis=ulIdxs.children;
    //从当前位置移动到任意一个范围内的位置
    function moveTo(to){
      //如果用户没有传入要跳到第几张图,就默认从当前图的下一张
      if(to==dundefined){
        to=i+1;
      }
      //如果滚动从头开始,再重新加上transition
      if(i==0){
        ulImgs.className="transition"; 
      }
      //现将表示第几张图片的变量i变为目标位置
      i=to;
      //在用i计算ulImgs的marginLeft距离
      ulImgs.style.marginLeft=-i*LIWIDTH+"px";
      //先删除所有小圆点的class
      for(var li of lis){
        li.className=""
      }
      console.log(i);
      if(i==LICOUNT){
        i=0;
        //当transition动画播完之后,才
        setTimeout(function(){
          ulImgs.className="";//清掉transition属性
          ulImgs.style.marginLeft=0;//将ulImgs拉回0位置           
        },DURATION)
      }
      //再给当前位置的小圆点添加class active
      li[i].className="active";
    }
  </script>
</body>
</html>